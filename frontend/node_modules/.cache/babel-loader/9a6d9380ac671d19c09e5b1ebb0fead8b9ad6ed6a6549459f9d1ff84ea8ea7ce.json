{"ast":null,"code":"import React,{useContext,useEffect}from'react';import'./Verification.css';import{useNavigate,useSearchParams}from'react-router-dom';import{StoreContext}from'../../context/Storecontext';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const Verification=()=>{const[searchParams,setSearchParams]=useSearchParams();const success=searchParams.get(\"success\");const orderId=searchParams.get(\"orderId\");const{url}=useContext(StoreContext);const navigate=useNavigate();const verifyPayment=async()=>{try{const response=await axios.post(\"\".concat(url,\"/api/order/verify\"),{success,orderId});if(response.data.success){navigate(\"/myorders\");}else{navigate(\"/\");}}catch(error){console.error(\"Verification error:\",error);navigate(\"/\");}};useEffect(()=>{verifyPayment();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"verify\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});};export default Verification;","map":{"version":3,"names":["React","useContext","useEffect","useNavigate","useSearchParams","StoreContext","axios","jsx","_jsx","Verification","searchParams","setSearchParams","success","get","orderId","url","navigate","verifyPayment","response","post","concat","data","error","console","className","children"],"sources":["C:/Users/bpenchalaiah/Desktop/food app/frontend/src/pages/verify/Verification.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport './Verification.css';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { StoreContext } from '../../context/Storecontext';\r\nimport axios from 'axios';\r\n\r\nconst Verification = () => {\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const success = searchParams.get(\"success\");\r\n    const orderId = searchParams.get(\"orderId\");\r\n    const { url } = useContext(StoreContext);\r\n    const navigate = useNavigate();\r\n\r\n    const verifyPayment = async () => {\r\n        try {\r\n            const response = await axios.post(`${url}/api/order/verify`, { success, orderId });\r\n            if (response.data.success) {\r\n                navigate(\"/myorders\");\r\n            } else {\r\n                navigate(\"/\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Verification error:\", error);\r\n            navigate(\"/\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        verifyPayment();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"verify\">\r\n            <div className=\"spinner\">\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Verification;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,MAAO,oBAAoB,CAC3B,OAASC,WAAW,CAAEC,eAAe,KAAQ,kBAAkB,CAC/D,OAASC,YAAY,KAAQ,4BAA4B,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGP,eAAe,CAAC,CAAC,CACzD,KAAM,CAAAQ,OAAO,CAAGF,YAAY,CAACG,GAAG,CAAC,SAAS,CAAC,CAC3C,KAAM,CAAAC,OAAO,CAAGJ,YAAY,CAACG,GAAG,CAAC,SAAS,CAAC,CAC3C,KAAM,CAAEE,GAAI,CAAC,CAAGd,UAAU,CAACI,YAAY,CAAC,CACxC,KAAM,CAAAW,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,IAAI,IAAAC,MAAA,CAAIL,GAAG,sBAAqB,CAAEH,OAAO,CAAEE,OAAQ,CAAC,CAAC,CAClF,GAAII,QAAQ,CAACG,IAAI,CAACT,OAAO,CAAE,CACvBI,QAAQ,CAAC,WAAW,CAAC,CACzB,CAAC,IAAM,CACHA,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAAE,MAAOM,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CN,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAAC,CAEDd,SAAS,CAAC,IAAM,CACZe,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIT,IAAA,QAAKgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBjB,IAAA,QAAKgB,SAAS,CAAC,SAAS,CACnB,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAf,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}