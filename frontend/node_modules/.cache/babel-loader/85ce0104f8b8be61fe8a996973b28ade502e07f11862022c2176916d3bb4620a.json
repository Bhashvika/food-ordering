{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import'./Myorders.css';import{StoreContext}from'../../context/Storecontext';import axios from'axios';import{assets}from'../../assets/assets';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Myorders=()=>{const[data,setData]=useState([]);const{url,token}=useContext(StoreContext);const fetchOrders=async()=>{try{const response=await axios.post(`${url}/api/order/userorders`,{},{headers:{token}});setData(response.data.data);}catch(error){console.error('Error fetching orders:',error);}};useEffect(()=>{if(token){fetchOrders();}},[token,url]);return/*#__PURE__*/_jsx(\"div\",{className:\"my-orders\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:data.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"my-orders-order\",children:[/*#__PURE__*/_jsx(\"img\",{src:assets.parcel_icon,alt:\"Parcel icon\"}),/*#__PURE__*/_jsx(\"p\",{children:order.items.map(item=>`${item.name} x${item.quantity}`).join(', ')}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",order.amount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Items: \",order.items.length]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u25CF\"}),/*#__PURE__*/_jsx(\"b\",{children:order.status})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchOrders,children:\"Track order\"})]},order._id))})});};export default Myorders;","map":{"version":3,"names":["React","useContext","useEffect","useState","StoreContext","axios","assets","jsx","_jsx","jsxs","_jsxs","Myorders","data","setData","url","token","fetchOrders","response","post","headers","error","console","className","children","map","order","src","parcel_icon","alt","items","item","name","quantity","join","amount","length","status","onClick","_id"],"sources":["C:/Users/bpenchalaiah/Desktop/food app/frontend/src/pages/myorders/Myorders.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport './Myorders.css';\r\nimport { StoreContext } from '../../context/Storecontext';\r\nimport axios from 'axios';\r\nimport { assets } from '../../assets/assets';\r\n\r\nconst Myorders = () => {\r\n    const [data, setData] = useState([]);\r\n    const { url, token } = useContext(StoreContext);\r\n\r\n    const fetchOrders = async () => {\r\n        try {\r\n            const response = await axios.post(`${url}/api/order/userorders`, {}, { headers: { token } });\r\n            setData(response.data.data);\r\n        } catch (error) {\r\n            console.error('Error fetching orders:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            fetchOrders();\r\n        }\r\n    }, [token, url]);\r\n\r\n    return (\r\n        <div className='my-orders'>\r\n            <div className=\"container\">\r\n                {data.map((order) => (\r\n                    <div className='my-orders-order' key={order._id}>\r\n                        <img src={assets.parcel_icon} alt=\"Parcel icon\" />\r\n                        <p>{order.items.map(item => `${item.name} x${item.quantity}`).join(', ')}</p> \r\n                        <p>${order.amount}</p>\r\n                        <p>Items: {order.items.length}</p>\r\n                        <p><span>&#x25cf;</span><b>{order.status}</b></p>\r\n                        <button onClick={fetchOrders}>Track order</button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Myorders;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,gBAAgB,CACvB,OAASC,YAAY,KAAQ,4BAA4B,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAEW,GAAG,CAAEC,KAAM,CAAC,CAAGd,UAAU,CAACG,YAAY,CAAC,CAE/C,KAAM,CAAAY,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,IAAI,CAAC,GAAGJ,GAAG,uBAAuB,CAAE,CAAC,CAAC,CAAE,CAAEK,OAAO,CAAE,CAAEJ,KAAM,CAAE,CAAC,CAAC,CAC5FF,OAAO,CAACI,QAAQ,CAACL,IAAI,CAACA,IAAI,CAAC,CAC/B,CAAE,MAAOQ,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAClD,CACJ,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACZ,GAAIa,KAAK,CAAE,CACPC,WAAW,CAAC,CAAC,CACjB,CACJ,CAAC,CAAE,CAACD,KAAK,CAAED,GAAG,CAAC,CAAC,CAEhB,mBACIN,IAAA,QAAKc,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBf,IAAA,QAAKc,SAAS,CAAC,WAAW,CAAAC,QAAA,CACrBX,IAAI,CAACY,GAAG,CAAEC,KAAK,eACZf,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5Bf,IAAA,QAAKkB,GAAG,CAAEpB,MAAM,CAACqB,WAAY,CAACC,GAAG,CAAC,aAAa,CAAE,CAAC,cAClDpB,IAAA,MAAAe,QAAA,CAAIE,KAAK,CAACI,KAAK,CAACL,GAAG,CAACM,IAAI,EAAI,GAAGA,IAAI,CAACC,IAAI,KAAKD,IAAI,CAACE,QAAQ,EAAE,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAI,CAAC,cAC7EvB,KAAA,MAAAa,QAAA,EAAG,GAAC,CAACE,KAAK,CAACS,MAAM,EAAI,CAAC,cACtBxB,KAAA,MAAAa,QAAA,EAAG,SAAO,CAACE,KAAK,CAACI,KAAK,CAACM,MAAM,EAAI,CAAC,cAClCzB,KAAA,MAAAa,QAAA,eAAGf,IAAA,SAAAe,QAAA,CAAM,QAAQ,CAAM,CAAC,cAAAf,IAAA,MAAAe,QAAA,CAAIE,KAAK,CAACW,MAAM,CAAI,CAAC,EAAG,CAAC,cACjD5B,IAAA,WAAQ6B,OAAO,CAAErB,WAAY,CAAAO,QAAA,CAAC,aAAW,CAAQ,CAAC,GANhBE,KAAK,CAACa,GAOvC,CACR,CAAC,CACD,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA3B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}